# 🔐 セキュリティの観点からの設計思想
「セキュリティの観点からの設計思想」は、システムやアプリケーションの**根本設計段階で**「**安全性を前提条件として組み込む**」ための基本的な考え方を指します。
以下では体系的に整理します。

---

## 🔐 セキュリティ設計思想（Security Design Principles）

### 1. **最小権限の原則（Principle of Least Privilege）**

* 各ユーザー・プロセス・システムコンポーネントには、**必要最小限の権限のみ**を付与する。
* 目的：攻撃者による侵害時の被害範囲を最小化。
* 例：

  * アプリケーションのDB接続ユーザーは `SELECT, INSERT` のみ許可し `DROP` や `ALTER` は禁止。
  * IAMロールを細かく分離。

---

### 2. **多層防御（Defense in Depth）**

* 1つの防御が破られても他の層で守れるように、**複数の防御層**を設ける。
* 例：

  * WAF → アプリ認証 → DBアクセス制御 → OSファイアウォール
  * ID・アクセス制御に加え、監査ログや侵入検知も併用。

---

### 3. **安全なデフォルト（Secure by Default）**

* 初期状態が安全であるように設定する。
* 例：

  * 新規作成ユーザーに管理権限を与えない。
  * 不要なポートやサービスはデフォルトで無効。
  * “opt-in”でのみ危険な機能を利用可能に。

---

### 4. **設計による安全性（Security by Design）**

* 後付けではなく、**要件定義・設計段階からセキュリティを組み込む。**
* 例：

  * 仕様書にセキュリティ要求（認証・暗号化・監査など）を明記。
  * データフロー図における境界（trust boundary）を可視化。

---

### 5. **完全仲介（Complete Mediation）**

* すべてのアクセス要求に対して**毎回検証を行う**。
* キャッシュや一時的な承認情報を信用しない。
* 例：

  * セッション有効中でも重要操作ごとにトークン再検証。

---

### 6. **公開設計の原則（Open Design）**

* セキュリティは「設計が秘密であること」に依存してはいけない。
* 例：

  * アルゴリズムは公開しても安全性が保たれる（例：AES）。
  * 秘密にすべきは設計ではなく「鍵」や「認証情報」。

---

### 7. **フェイルセーフ（Fail-Safe Defaults）**

* 障害発生時は**安全な状態**に戻る設計にする。
* 例：

  * 認証サーバ障害時には「アクセス拒否」する。
  * 通信エラー時に「処理継続」せず中断。

---

### 8. **責任追跡性（Accountability / Auditing）**

* 誰が・いつ・何をしたかを**記録・追跡できる仕組み**を設計する。
* 例：

  * 操作ログ・監査証跡を一元管理。
  * 不正操作時のトレーサビリティを確保。

---

### 9. **心理的受容性（Psychological Acceptability）**

* セキュリティ対策は、**使いやすさと両立**させる。
* ユーザーが避けずに正しく利用できる設計を行う。
* 例：

  * 強制的なパスワード更新よりもMFA導入で利便性と安全性を両立。

---

### 10. **脅威モデルとリスクベース設計**

* あらゆるシステムはリソースと脅威を前提に設計する。
* 設計段階で **STRIDE, DREAD, PASTA** などの手法を用いて脅威を整理。
* 重要データ・機能ほど強固な保護層を適用。

---

## 🧩 実践的適用領域

| 領域       | セキュリティ設計の具体例                 |
| -------- | ---------------------------- |
| ネットワーク   | DMZ構成・ファイアウォール・VPC分離・VPN認証   |
| アプリケーション | 認証/認可・CSRF防止・XSS/SQLi対策・入力検証 |
| データ      | 暗号化（保存・通信）・鍵管理・バックアップ整合性     |
| インフラ     | OSハードニング・ログ監視・脆弱性パッチ適用       |
| 運用       | RBAC/IAM運用・監査ログ・インシデント対応計画   |

---

## 💡 補足：設計思想を支える考え方

* **「攻撃を前提に設計する」**（Assume Breach）
  → 「侵入されても被害を最小化できる構造」にする。
* **「ゼロトラスト」**（Zero Trust Architecture）
  → 内部ネットワークでも常に検証を行う。
* **「セキュリティ・シフトレフト」**
  → 開発初期段階から脆弱性検出と対策を組み込む。

---

ご希望があれば、

* 「Webアプリケーション」
* 「クラウドインフラ（AWS, Azure）」
* 「業務システム」
  など特定領域に絞った**設計思想と実践例**も整理できます。

どの領域向けにまとめましょうか？
