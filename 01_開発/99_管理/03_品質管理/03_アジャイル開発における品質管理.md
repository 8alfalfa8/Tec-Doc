# ◆ アジャイル開発におけるQC

以下では、**アジャイル開発におけるQC**（**品質管理**）を
「**基本思想 → 全体構造 → イベント別QC → 成果物QC → KPI／メトリクス → 体制・役割 → 失敗例**」の順で、
**Scrum／SAFe／DevOpsに共通で使える実務フレーム**として整理します。

---

## 1. アジャイルQCの基本思想

### 1.1 QCの位置づけ

* QC ＝ **作りながら品質を作り込む活動**
* テスト工程ではない
* **毎スプリントで品質を確保する仕組み**

---

### 1.2 ウォーターフォールQCとの違い

| 観点    | WF   | アジャイル |
| ----- | ---- | ----- |
| 主体    | QA部門 | チーム全員 |
| タイミング | 後工程  | 常時    |
| 単位    | 工程   | スプリント |
| 目的    | 合否判定 | 学習・改善 |

---

## 2. アジャイルQCの全体構造

```
要求品質
 ↓
DoR（準備）
 ↓
設計・実装QC
 ↓
自動テスト
 ↓
DoD（完成）
 ↓
レビュー
 ↓
レトロ改善
```

---

## 3. スクラムイベント別 QC活動

---

## 3.1 プロダクトバックログ管理（要求QC）

#### 管理目的

* **作る価値と品質を両立**

#### QC内容

* ユーザーストーリーの明確性
* 受入条件（AC）の妥当性
* 非機能要件の内包

#### 方法

* INVEST原則
* Three Amigos
* Example Mapping

#### 成果物

* 良質なユーザーストーリー
* 受入条件

---

### 3.2 スプリントプランニング（準備QC）

#### 管理目的

* **未完成な仕事を持ち込まない**

#### QC内容

* DoR達成確認
* 技術的リスク洗い出し
* テスト観点確認

#### 方法

* DoRチェックリスト
* 技術スパイク
* 見積妥当性確認

---

### 3.3 開発中QC（Build-in Quality）

#### QC内容

* 設計簡素性
* コーディング規約
* テストファースト

#### 方法

* TDD/BDD
* ペアプロ
* PRレビュー
* 静的解析

---

### 3.4 テストQC（Continuous Testing）

#### QC内容

* 自動テスト網羅
* 非機能検証
* リグレッション防止

#### 方法

* 単体/統合/E2E自動化
* テストピラミッド
* CI/CD

---

### 3.5 スプリントレビュー（成果QC）

#### QC内容

* DoD達成確認
* 受入基準充足
* 品質観点レビュー

#### 方法

* 受入テスト
* デモ
* フィードバック収集

---

### 3.6 レトロスペクティブ（改善QC）

#### QC内容

* 品質課題抽出
* 再発防止策
* 予防投資決定

#### 方法

* KPT
* COQレビュー
* 欠陥傾向分析

---

## 4. 成果物別 QC観点

| 成果物       | QCポイント     |
| --------- | ---------- |
| ユーザーストーリー | AC明確、曖昧語排除 |
| コード       | 可読性、テスト性   |
| テスト       | 再現性、独立性    |
| インフラ      | IaC、再現可能   |
| ドキュメント    | 最小限・最新     |

---

## 5. アジャイル品質KPI／メトリクス

### 5.1 最小セット（おすすめ）

| KPI    | 意味     |
| ------ | ------ |
| 欠陥流出率  | 上流品質   |
| 再作業率   | 作り込み品質 |
| 自動テスト率 | 予防力    |
| 変更失敗率  | リリース品質 |
| MTTR   | 回復力    |

---

### 5.2 補助指標

* DoD達成率
* バグ発生トレンド
* 品質COQ比率

---

## 6. 体制・役割とQC

| 役割  | QC責任   |
| --- | ------ |
| PO  | 要求品質   |
| Dev | 内部品質   |
| QA  | 可視化・助言 |
| SM  | 改善促進   |

👉 **QAはゲートではない**

---

## 7. SAFe／DevOps拡張

### SAFe

* Built-in Quality
* PI単位QC
* ART品質KPI

### DevOps

* Shift-left QA
* 変更失敗率
* SRE指標（SLI/SLO）

---

## 8. よくある失敗例

| 失敗      | 問題    |
| ------- | ----- |
| テスト後回し  | 技術的負債 |
| QA任せ    | 属人化   |
| 品質KPI乱立 | 形骸化   |
| スピード優先  | 品質崩壊  |

---

## 9. 成熟度モデル（アジャイルQC）

| Lv | 状態     |
| -- | ------ |
| 1  | テストのみ  |
| 2  | レビュー導入 |
| 3  | 自動化    |
| 4  | KPI連動  |
| 5  | 投資判断活用 |

---

## 10. まとめ

* アジャイルQCは**仕組み**
* 品質は「後で測る」ものではなく「先に作る」
* スプリントごとに改善
* QC × KPI × COQで完成

---
