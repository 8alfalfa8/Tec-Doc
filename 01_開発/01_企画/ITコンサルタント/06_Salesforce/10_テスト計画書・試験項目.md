# ◆ テスト計画書・試験項目

以下は、**Salesforce 営業CRM案件向け
「テスト計画書」＋「試験項目（記入例付き）」**です。

**金融・公共／大企業向けレビュー・監査に耐える構成**で、
そのまま提出・流用できる粒度にしています。

---

## 1. テスト計画書

（Salesforce 営業CRM）

---

### 1.1 テスト計画書の位置づけ

| 項目 | 内容                      |
| -- | ----------------------- |
| 工程 | テスト工程                   |
| 対象 | Salesforce 設定・Flow・Apex |
| 目的 | 業務要件・設計どおりに動作することの確認    |
| 特徴 | 設定＋開発の混在テスト             |

---

### 1.2 テスト範囲

#### 対象

* 標準オブジェクト（Lead / Account / Opportunity 等）
* カスタムオブジェクト
* Flow（画面／レコードトリガ）
* Apex（Trigger / Class）
* 権限・共有制御
* レポート／ダッシュボード

#### 対象外（例）

* Salesforce基盤自体の性能保証
* Salesforce標準機能の内部動作

---

### 1.3 テスト種別と目的

| 種別       | 目的            |
| -------- | ------------- |
| 単体テスト    | 個別機能の正当性      |
| 結合テスト    | オブジェクト／Flow連携 |
| 総合テスト    | 業務シナリオ        |
| ユーザ受入テスト | 業務妥当性         |
| 回帰テスト    | 変更影響確認        |

---

### 1.4 テスト環境

| 項目  | 内容                      |
| --- | ----------------------- |
| 環境  | Sandbox（Full / Partial） |
| データ | テスト用ダミーデータ              |
| 権限  | 営業／管理者ロール               |

---

### 1.5 役割分担

| 役割    | 担当    |
| ----- | ----- |
| テスト計画 | SIer  |
| 試験実施  | SIer  |
| 受入確認  | 顧客    |
| 承認    | 顧客責任者 |

---

### 1.6 合否判定基準

| 区分  | 基準         |
| --- | ---------- |
| 合格  | 重大障害なし     |
| 条件付 | 軽微不具合のみ    |
| 不合格 | 業務影響大の障害あり |

---

### 1.7 不具合管理

| 項目     | 内容                             |
| ------ | ------------------------------ |
| 管理方法   | Jira / Excel                   |
| 優先度    | Critical / High / Medium / Low |
| クローズ条件 | 修正＋再テストOK                      |

---

### 1.8 成果物

* テスト計画書
* 試験項目書
* 試験結果報告書
* 不具合一覧

---

## 2. 試験項目書（Salesforce 営業CRM）

---

### 2.1 試験項目書 共通フォーマット

| No | テスト種別 | 機能 | 試験観点 | 前提条件 | 操作 | 期待結果 | 結果 |
| -- | ----- | -- | ---- | ---- | -- | ---- | -- |

---

### 3. 単体テスト（記入例）

---

#### 3.1 オブジェクト／項目

| No    | 種別 | 機能 | 試験観点   | 操作       | 期待結果  |
| ----- | -- | -- | ------ | -------- | ----- |
| UT-01 | 単体 | 商談 | 必須項目制御 | 金額未入力で保存 | エラー表示 |
| UT-02 | 単体 | 商談 | 入力規則   | 金額マイナス   | 保存不可  |

---

#### 3.2 Flow（画面Flow）

| No    | 種別 | Flow名  | 試験観点  | 操作     | 期待結果  |
| ----- | -- | ------ | ----- | ------ | ----- |
| UT-03 | 単体 | 商談入力補助 | 正常系   | Flow実行 | 商談作成  |
| UT-04 | 単体 | 商談入力補助 | 入力エラー | 必須未入力  | エラー表示 |

---

#### 3.3 Apex（単体）

| No    | 種別 | クラス             | 試験観点 | 操作   | 期待結果 |
| ----- | -- | --------------- | ---- | ---- | ---- |
| UT-05 | 単体 | ContractService | 正常系  | 成約更新 | 契約生成 |
| UT-06 | 単体 | ContractService | 例外系  | 異常値  | 例外発生 |

---

## 4. 結合テスト（記入例）

---

### 4.1 商談 → 契約連動

| No    | 種別 | シナリオ | 操作     | 期待結果   |
| ----- | -- | ---- | ------ | ------ |
| IT-01 | 結合 | 商談成約 | ステージ成約 | 契約自動生成 |
| IT-02 | 結合 | 再更新  | 再保存    | 二重作成なし |

---

#### 4.2 権限・共有

| No    | 種別 | 対象 | 操作     | 期待結果 |
| ----- | -- | -- | ------ | ---- |
| IT-03 | 結合 | 商談 | 他人商談編集 | 編集不可 |
| IT-04 | 結合 | 契約 | 営業更新   | 更新不可 |

---

## 5. 総合テスト（業務シナリオ）

---

#### 5.1 営業業務シナリオ

| No    | 種別 | シナリオ   | 操作   | 期待結果 |
| ----- | -- | ------ | ---- | ---- |
| ST-01 | 総合 | リード→受注 | 一連操作 | 正常完了 |
| ST-02 | 総合 | 失注     | 失注登録 | 理由必須 |

---

## 6. 受入テスト（UAT）

| No     | 観点  | 確認内容    |
| ------ | --- | ------- |
| UAT-01 | 業務  | 現行業務と整合 |
| UAT-02 | 操作性 | 営業が操作可能 |
| UAT-03 | 帳票  | KPI確認可能 |

---

## 7. Salesforce特有の重要テスト観点（必須）

#### Flow

* 再帰実行防止
* Loop内DMLなし

#### Apex

* ガバナ制限
* バルク処理対応
* テストカバレッジ75%以上

#### 権限

* プロファイル最小化
* 権限セット検証

---

## 8. よくあるNG（レビュー指摘）

❌ Apex未テスト
❌ 権限テスト漏れ
❌ 業務シナリオ不足
❌ 再帰テスト未実施

---

## 9. 提案での一言（使える）

> 「Salesforceは設定・Flow・Apexが混在するため、
> 単体・結合・業務シナリオを分けて
> テスト計画を立てています。」

---

