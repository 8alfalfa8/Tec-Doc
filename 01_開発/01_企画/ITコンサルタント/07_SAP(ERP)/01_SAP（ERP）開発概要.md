# ◆ SAP（ERP）開発概要

SAP（ERP）開発について、**全体像 → 技術要素 → 開発プロセス → モジュール別観点 → 開発形態 → 品質・運用・最近動向**の順で、**SI／金融・公共系プロジェクトでも通用するレベル**でご整理します。

---

## 1. SAP（ERP）とは何か（前提整理）

SAP ERPは、**企業の基幹業務を統合的に管理するパッケージ**です。
会計・販売・購買・在庫・生産・人事などを **単一データモデル** で扱う点が最大の特徴です。

### 主な製品系譜

| 世代   | 製品               | 特徴              |
| ---- | ---------------- | --------------- |
| 従来   | SAP ERP 6.0（ECC） | ABAP中心・R/3系     |
| 現行主流 | **SAP S/4HANA**  | インメモリDB（HANA）前提 |
| クラウド | S/4HANA Cloud    | 標準重視・拡張制限あり     |

---

## 2. SAP開発の全体構造（何を「開発」するのか）

SAP開発は、一般的なスクラッチ開発と違い、**以下の組み合わせ**で構成されます。

### ① 標準機能（カスタマイズ）

* **IMG（SPRO）設定**
* プログラムは書かない
* 会計科目、税コード、組織構造など

👉 **設計力＝業務理解力**

---

### ② アドオン開発（ABAP）

* 標準で足りない部分を **ABAPで拡張**
* 帳票、IF、バッチ、画面、Exit/BAdI

👉 **業務 × 技術の接着層**

---

### ③ インターフェース開発

* 外部システム連携
* IDoc / BAPI / RFC / OData / PI・CPI

👉 **全体アーキテクチャの要**

---

### ④ 拡張（S/4・クラウド時代）

* In-App Extensibility
* Side-by-Side（BTP）

👉 **「標準を壊さない」思想**

---

## 3. SAP開発で使われる主な技術要素

### 3.1 ABAP（Advanced Business Application Programming）

SAP専用言語（業務特化）

| 領域   | 内容                  |
| ---- | ------------------- |
| レポート | ALV帳票               |
| 画面   | Dynpro / Web Dynpro |
| バッチ  | Background Job      |
| 拡張   | User Exit / BAdI    |
| DB操作 | Open SQL（HANA最適化）   |

**S/4では特に重要**

* CDS View
* ABAP on HANA
* SELECT * 禁止文化

---

### 3.2 データモデル（最重要）

SAPは**業務＝テーブル構造**。

例：

| モジュール | 代表テーブル      |
| ----- | ----------- |
| FI    | BKPF / BSEG |
| MM    | EKKO / EKPO |
| SD    | VBAK / VBAP |
| CO    | COEP        |
| HR    | PA0001      |

👉 **テーブルを理解すると業務が見える**

---

### 3.3 帳票・UI

* SAP GUI（古典）
* Fiori（HTML5 / OData）
* SmartForms / Adobe Forms

---

## 4. SAP開発プロジェクトの標準工程

SAPは**独特の工程構造**を持ちます。

### 4.1 工程全体像

```
要件定義
 ↓
基本設計（To-Be業務 / Fit & Gap）
 ↓
詳細設計（ABAP仕様）
 ↓
開発（設定＋ABAP）
 ↓
単体テスト
 ↓
結合テスト
 ↓
UAT（業務受入）
 ↓
本番移行
```

---

### 4.2 Fit & Gap分析（SAP特有）

| 区分     | 意味       |
| ------ | -------- |
| Fit    | 標準で対応可能  |
| Gap    | アドオン要    |
| カスタマイズ | 設定変更で対応  |
| 業務変更   | 業務側が合わせる |

👉 **「全部作る」は失敗パターン**

---

## 5. モジュール別 開発観点（代表例）

### 5.1 FI（財務会計）

* 勘定科目
* 仕訳
* 消費税
* 決算処理

**開発例**

* 仕訳チェックBAdI
* 会計帳票

---

### 5.2 MM（購買・在庫）

* 発注
* 入庫
* 在庫評価

**開発例**

* 入庫時チェック
* 在庫連携IF

---

### 5.3 SD（販売）

* 受注
* 出荷
* 請求

**開発例**

* 価格決定ロジック
* 受注IF

---

### 5.4 CO（管理会計）

* 原価配賦
* 収益性分析

👉 **FIとCOは必ずセットで理解**

---

## 6. SAP開発の役割分担（体制）

| 役割      | 内容         |
| ------- | ---------- |
| 業務コンサル  | 要件・Fit&Gap |
| SAPコンサル | 設定・設計      |
| ABAPer  | 実装         |
| BASIS   | 基盤・権限・性能   |
| PM      | 進捗・品質      |

👉 **「ABAPだけ」では上流に行けない**

---

## 7. 品質・テスト観点（金融・公共向け）

### 7.1 SAP特有のテスト

* 仕訳整合性
* トランザクション連鎖
* 月次・年次処理

### 7.2 重要観点

* 権限（SoD）
* 監査ログ
* 金額整合性
* データ移行整合

---

## 8. S/4HANA時代のSAP開発トレンド

| 項目 | 従来      | S/4         |
| -- | ------- | ----------- |
| DB | AnyDB   | HANA限定      |
| 拡張 | 直接改修    | 拡張ポイント      |
| UI | SAP GUI | Fiori       |
| 連携 | RFC     | OData / API |

**重要キーワード**

* Clean Core
* BTP
* CDS View
* RAP（RESTful ABAP）

---

## 9. SAP開発が「難しい」と言われる理由

1. 業務知識が深い
2. 独自概念・用語が多い
3. 標準思想を理解しないと破綻
4. パフォーマンス制約（HANA）

👉 **「業務×IT×パッケージ思想」**

---

## 10. まとめ（本質）

SAP開発の本質は、

> **「業務を標準にどう落とし、どこまでを拡張するか」**

です。

単なるプログラミングではなく、

* 業務設計力
* 標準理解力
* 長期運用視点<br>

が問われます。

---
